var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(e,h){return Object.prototype.hasOwnProperty.call(e,h)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(e,h){for(var g=1;g<arguments.length;g++){var k=arguments[g];if(k)for(var m in k)$jscomp.owns(k,m)&&(e[m]=k[m])}return e};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,h,g){e!=Array.prototype&&e!=Object.prototype&&(e[h]=g.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,h,g,k){if(h){g=$jscomp.global;e=e.split(".");for(k=0;k<e.length-1;k++){var m=e[k];m in g||(g[m]={});g=g[m]}e=e[e.length-1];k=g[e];h=h(k);h!=k&&null!=h&&$jscomp.defineProperty(g,e,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(e){return e?e:function(e,g,k){g=null!=g?g:function(e){return e};var h=[],n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof n){e=n.call(e);for(var q=0;!(n=e.next()).done;)h.push(g.call(k,n.value,q++))}else for(n=e.length,q=0;q<n;q++)h.push(g.call(k,e[q],q));return h}},"es6","es3");
$jscomp.findInternal=function(e,h,g){e instanceof String&&(e=String(e));for(var k=e.length,m=0;m<k;m++){var n=e[m];if(h.call(g,n,m,e))return{i:m,v:n}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,g){return $jscomp.findInternal(this,e,g).v}},"es6","es3");
!function(){function e(a){return function(){return a}}function h(){return H}function g(a){return a.isNone()}function k(a){return a()}function m(a){return a}function n(a){return function(c){if(null===c)c="null";else{var b=typeof c;c="object"==b&&(Array.prototype.isPrototypeOf(c)||c.constructor&&"Array"===c.constructor.name)?"array":"object"==b&&(String.prototype.isPrototypeOf(c)||c.constructor&&"String"===c.constructor.name)?"string":b}return c===a}}function q(a,c){for(var b=0,f=a.length;b<f;b++)c(a[b],
b)}function p(a,c){ja.call(a,c)?(a=a[c],a=null===a||void 0===a?H:O(a)):a=ka();return a}function P(a){return function(c){return c?c.style[a].replace(/px$/,""):""}}function Q(a){return function(c,b){c&&(c=c.style,b=/^[0-9.]+$/.test(b)?b+"px":b,c[a]=b)}}function I(a,c){if(a)for(var b=0;b<a.length;b++)if(-1!==c.indexOf(a[b].filter))return a[b]}function B(a,c){return function(a){a=C.createFragment(a);return""!==C.getAttrib(a.firstChild,"data-ephox-embed-iri")}(c)?function(a){a=C.createFragment(a).firstChild;
return{type:"ephox-embed-iri",source1:C.getAttrib(a,"data-ephox-embed-iri"),source2:"",poster:"",width:D.getMaxWidth(a),height:D.getMaxHeight(a)}}(c):function(a,c){var b={};return E({validate:!1,allow_conditional_comments:!0,start:function(c,d){if(b.source1||"param"!==c||(b.source1=d.map.movie),"iframe"!==c&&"object"!==c&&"embed"!==c&&"video"!==c&&"audio"!==c||(b.type||(b.type=c),b=t.extend(d.map,b)),"script"===c){var f=I(a,d.map.src);if(!f)return;b={type:"script",source1:d.map.src,width:String(f.width),
height:String(f.height)}}"source"===c&&(b.source1?b.source2||(b.source2=d.map.src):b.source1=d.map.src);"img"!==c||b.poster||(b.poster=d.map.src)}}).parse(c),b.source1=b.source1||b.src||b.data,b.source2=b.source2||"",b.poster=b.poster||"",b}(a,c)}function u(a,c){var b,f,d,R;for(b in c)if(d=""+c[b],a.map[b])for(f=a.length;f--;)(R=a[f]).name===b&&(d?(a.map[b]=d,R.value=d):(delete a.map[b],a.splice(f,1)));else d&&(a.push({name:b,value:d}),a.map[b]=d)}function la(a,c){a=J.createFragment(a).firstChild;
D.setMaxWidth(a,c.width);D.setMaxHeight(a,c.height);c=a.outerHTML;a=K();return E(a).parse(c),a.getContent()}function S(a,c){var b=t.extend({},c);if(!b.source1&&(t.extend(b,B(v(a),b.embed)),!b.source1))return"";b.source2||(b.source2="");b.poster||(b.poster="");b.source1=a.convertURL(b.source1,"source");b.source2=a.convertURL(b.source2,"source");b.source1mime=T(b.source1);b.source2mime=T(b.source2);b.poster=a.convertURL(b.poster,"poster");c=function(a){var b=ma.filter(function(b){return b.regex.test(a)});
return 0<b.length?t.extend({},b[0],{url:function(a,b){var c=a.regex.exec(b),d=a.url;a=function(a){d=d.replace("$"+a,function(){return c[a]?c[a]:""})};for(b=0;b<c.length;b++)a(b);return d.replace(/\?$/,"")}(b[0],a)}):null}(b.source1);if(c&&(b.source1=c.url,b.type=c.type,b.allowFullscreen=c.allowFullscreen,b.width=b.width||String(c.w),b.height=b.height||String(c.h)),b.embed)return L(b.embed,b,!0);(c=I(v(a),b.source1))&&(b.type="script",b.width=String(c.width),b.height=String(c.height));c=a.getParam("audio_template_callback");
var f=a.getParam("video_template_callback");return b.width=b.width||"300",b.height=b.height||"150",t.each(b,function(c,f){b[f]=a.dom.encode(""+c)}),"iframe"===b.type?'<div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" src="'+b.source1+'" width="'+b.width+'" height="'+b.height+'"'+(b.allowFullscreen?' allowFullscreen="1"':"")+"></iframe></div>":"application/x-shockwave-flash"===b.source1mime?function(a){var b='<object data="'+a.source1+'" width="'+a.width+'" height="'+
a.height+'" type="application/x-shockwave-flash">';return a.poster&&(b+='<img src="'+a.poster+'" width="'+a.width+'" height="'+a.height+'" />'),b+"</object>"}(b):-1!==b.source1mime.indexOf("audio")?function(a,b){return b?b(a):'<audio controls="controls" src="'+a.source1+'">'+(a.source2?'\n<source src="'+a.source2+'"'+(a.source2mime?' type="'+a.source2mime+'"':"")+" />\n":"")+"</audio>"}(b,c):"script"===b.type?'<script src="'+b.source1+'">\x3c/script>':function(a,b){return b?b(a):'<video width="'+
a.width+'" height="'+a.height+'"'+(a.poster?' poster="'+a.poster+'"':"")+' controls="controls">\n<source src="'+a.source1+'"'+(a.source1mime?' type="'+a.source1mime+'"':"")+" />\n"+(a.source2?'<source src="'+a.source2+'"'+(a.source2mime?' type="'+a.source2mime+'"':"")+" />\n":"")+"</video>"}(b,f)}function U(a){return function(c){return S(a,c)}}function y(a){var c=M(a,{source1:a.source1.value,source2:p(a,"source2").bind(function(a){return p(a,"value")}).getOr(""),poster:p(a,"poster").bind(function(a){return p(a,
"value")}).getOr("")});return p(a,"dimensions").each(function(a){q(["width","height"],function(b){p(a,b).each(function(a){return c[b]=a})})}),c}function F(a){var c=M(a,{source1:{value:p(a,"source1").getOr("")},source2:{value:p(a,"source2").getOr("")},poster:{value:p(a,"poster").getOr("")}});return q(["width","height"],function(b){p(a,b).each(function(a){var d=c.dimensions||{};d[b]=a;c.dimensions=d})}),c}function V(a){return function(c){a.notificationManager.open({type:"error",text:c&&c.msg?"Media embed handler error: "+
c.msg:"Media embed handler threw unknown error."})}}function W(a,c){return function(b){if(na(b.url)&&0<b.url.trim().length){var f=b.html;var d=B(v(c),f);b=z(z({},d),{source1:b.url,embed:f});a.setData(F(b))}}}function X(a,c){var b=a.dom.select("img[data-mce-object]");a.insertContent(c);c=a.dom.select("img[data-mce-object]");for(var f=0;f<b.length;f++)for(var d=c.length-1;0<=d;d--)b[f]===c[d]&&c.splice(d,1);a.selection.select(c[0]);a.nodeChanged()}function oa(a,c){var b,f=c.name;return(b=new w("img",
1)).shortEnded=!0,Y(a,c,b),b.attr({width:c.attr("width")||"300",height:c.attr("height")||("audio"===f?"30":"150"),style:c.attr("style"),src:Z.transparentSrc,"data-mce-object":f,"class":"mce-object mce-object-"+f}),b}function pa(a,c){var b,f,d,e=c.name;return(b=new w("span",1)).attr({contentEditable:"false",style:c.attr("style"),"data-mce-object":e,"class":"mce-preview-object mce-object-"+e}),Y(a,c,b),(f=new w(e,1)).attr({src:c.attr("src"),allowfullscreen:c.attr("allowfullscreen"),style:c.attr("style"),
"class":c.attr("class"),width:c.attr("width"),height:c.attr("height"),frameborder:"0"}),(d=new w("span",1)).attr("class","mce-shim"),b.append(f),b.append(d),b}function aa(a){for(;a=a.parent;)if(a.attr("data-ephox-embed-iri")||(void 0,(c=a.attr("class"))&&/\btiny-pageembed\b/.test(c)))return!0;var c;return!1}var r,qa=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(){return(z=Object.assign||function(a){for(var c,b=1,f=arguments.length;b<f;b++)for(var d in c=arguments[b])Object.prototype.hasOwnProperty.call(c,
d)&&(a[d]=c[d]);return a}).apply(this,arguments)},A=e(!1),N=e(!0),H=(r={fold:function(a,c){return a()},is:A,isSome:A,isNone:N,getOr:m,getOrThunk:k,getOrDie:function(a){throw Error(a||"error: getOrDie called on none.");},getOrNull:e(null),getOrUndefined:e(void 0),or:m,orThunk:k,map:h,each:function(){},bind:h,exists:A,forall:N,filter:h,equals:g,equals_:g,toArray:function(){return[]},toString:e("none()")},Object.freeze&&Object.freeze(r),r),ba,O=function(a){function c(){return d}function b(b){return b(a)}
var f=e(a),d={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:N,isNone:A,getOr:f,getOrThunk:f,getOrDie:f,getOrNull:f,getOrUndefined:f,or:c,orThunk:c,map:function(b){return O(b(a))},each:function(b){b(a)},bind:b,exists:b,forall:b,filter:function(b){return b(a)?d:H},toArray:function(){return[a]},toString:function(){return"some("+a+")"},equals:function(b){return b.is(a)},equals_:function(b,c){return b.fold(A,function(b){return c(a,b)})}};return d},ka=h,na=n("string"),ra=n("array");
r=n("function");var sa=Array.prototype.push,ca=(r(Array.from)&&Array.from,function(a){var c=a;return{get:function(){return c},set:function(a){c=a},clone:function(){return ca(c)}}}),ta=Object.prototype.hasOwnProperty,M=(ba=function(a,c){return c},function(){for(var a=Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];if(0===a.length)throw Error("Can't merge zero objects");c={};for(var b=0;b<a.length;b++){var f=a[b],d;for(d in f)ta.call(f,d)&&(c[d]=ba(c[d],f[d]))}return c}),ja=Object.hasOwnProperty,
v=function(a){return a.getParam("media_scripts")},t=tinymce.util.Tools.resolve("tinymce.util.Tools"),E=tinymce.util.Tools.resolve("tinymce.html.SaxParser");r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var D={getMaxWidth:P("maxWidth"),getMaxHeight:P("maxHeight"),setMaxWidth:Q("maxWidth"),setMaxHeight:Q("maxHeight")},C=r.DOM,da=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=function(a){return{mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",
swf:"application/x-shockwave-flash"}[a.toLowerCase().split(".").pop()]||""},K=tinymce.util.Tools.resolve("tinymce.html.Writer"),ea=tinymce.util.Tools.resolve("tinymce.html.Schema"),J=r.DOM,L=function(a,c,b){return function(a){a=J.createFragment(a);return""!==J.getAttrib(a.firstChild,"data-ephox-embed-iri")}(a)?la(a,c):function(a,b,c){var f,d=K(),e=0;return E({validate:!1,allow_conditional_comments:!0,comment:function(a){d.comment(a)},cdata:function(a){d.cdata(a)},text:function(a,b){d.text(a,b)},start:function(a,
l,x){switch(a){case "video":case "object":case "embed":case "img":case "iframe":void 0!==b.height&&void 0!==b.width&&u(l,{width:b.width,height:b.height})}if(c)switch(a){case "video":u(l,{poster:b.poster,src:""});b.source2&&u(l,{src:""});break;case "iframe":u(l,{src:b.source1});break;case "source":if(2>=++e&&(u(l,{src:b["source"+e],type:b["source"+e+"mime"]}),!b["source"+e]))return;break;case "img":if(!b.poster)return;f=!0}d.start(a,l,x)},end:function(a){if("video"===a&&c)for(var l=1;2>=l;l++)if(b["source"+
l]){var x=[];x.map={};e<l&&(u(x,{src:b["source"+l],type:b["source"+l+"mime"]}),d.start("source",x,!0))}b.poster&&"object"===a&&c&&!f&&(l=[],l.map={},u(l,{src:b.poster,width:b.width,height:b.height}),d.start("img",l,!0));d.end(a)}},ea({})).parse(a),d.getContent()}(a,c,b)},ma=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",
allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",
w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],G={},fa=function(a,c){var b=a.getParam("media_url_resolver");return b?function(a,b,c){return new da(function(d,f){function e(c){return c.html&&(G[a.source1]=c),d({url:a.source1,
html:c.html?c.html:b(a)})}G[a.source1]?e(G[a.source1]):c({url:a.source1},e,f)})}(c,U(a),b):function(a,b){return new da(function(c){c({html:b(a),url:a.source1})})}(c,U(a))},ha=function(a){var c=function(a){var b=a.selection.getNode();b=b.getAttribute("data-mce-object")||b.getAttribute("data-ephox-embed-iri")?a.serializer.serialize(b,{selection:!0}):"";return M({embed:b},B(v(a),b))}(a),b=ca(c);c=F(c);var f={title:"General",name:"general",items:function(a){for(var b=[],c=0,d=a.length;c<d;++c){if(!ra(a[c]))throw Error("Arr.flatten item "+
c+" was not an array, input: "+a);sa.apply(b,a[c])}return b}([[{name:"source1",type:"urlinput",filetype:"media",label:"Source"}],a.getParam("media_dimensions",!0)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},d=[];a.getParam("media_alt_source",!0)&&d.push({name:"source2",type:"urlinput",filetype:"media",label:"Alternative source URL"});a.getParam("media_poster",!0)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});
var e={title:"Advanced",name:"advanced",items:d};f=[f,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];0<d.length&&f.push(e);var g=a.windowManager.open({title:"Insert/Edit Media",size:"normal",body:{type:"tabpanel",tabs:f},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(c){var d=y(c.getData());!function(a,b,c){b.embed=L(b.embed,b);b.embed&&(a.source1===b.source1||G.hasOwnProperty(b.source1))?
X(c,b.embed):fa(c,b).then(function(a){X(c,a.html)})["catch"](V(c))}(b.get(),d,a);c.close()},onChange:function(c,d){switch(d.name){case "source1":!function(b,c){c=y(c.getData());b.source1!==c.source1&&(W(g,a)({url:c.source1,html:""}),fa(a,c).then(W(g,a))["catch"](V(a)))}(b.get(),c);break;case "embed":!function(b){var c=y(b.getData()).embed;c=B(v(a),c);b.setData(F(c))}(c);break;case "dimensions":case "poster":!function(b){var c=y(b.getData()),d=S(a,c);b.setData(F(z(z({},c),{embed:d})))}(c)}b.set(y(c.getData()))},
initialData:c})},ua=function(a){return{showDialog:function(){ha(a)}}},va=function(a){a.addCommand("mceMedia",function(){ha(a)})},w=tinymce.util.Tools.resolve("tinymce.html.Node"),Z=tinymce.util.Tools.resolve("tinymce.Env"),ia=function(a,c){if(!1===a.getParam("media_filter_html",!0))return c;var b,f=K();return E({validate:!1,allow_conditional_comments:!1,comment:function(a){f.comment(a)},cdata:function(a){f.cdata(a)},text:function(a,b){f.text(a,b)},start:function(c,e,g){if(b=!0,"script"!==c&&"noscript"!==
c){for(var d=0;d<e.length;d++){if(0===e[d].name.indexOf("on"))return;"style"===e[d].name&&(e[d].value=a.dom.serializeStyle(a.dom.parseStyle(e[d].value),c))}f.start(c,e,g);b=!1}},end:function(a){b||f.end(a)}},ea({})).parse(c),f.getContent()},Y=function(a,c,b){var f,d,e;for(d=(f=c.attributes).length;d--;){var g=f[d].name;var h=f[d].value;"width"!==g&&"height"!==g&&"style"!==g&&("data"!==g&&"src"!==g||(h=a.convertURL(h,g)),b.attr("data-mce-p-"+g,h))}(e=c.firstChild&&c.firstChild.value)&&(b.attr("data-mce-html",
escape(ia(a,e))),b.firstChild=null)},wa=function(a){return function(c){for(var b,f,d=c.length;d--;)(b=c[d]).parent&&(b.parent.attr("data-mce-object")||"script"===b.name&&!(f=I(v(a),b.attr("src")))||(f&&(f.width&&b.attr("width",f.width.toString()),f.height&&b.attr("height",f.height.toString())),"iframe"===b.name&&a.getParam("media_live_embeds",!0)&&Z.ceFalse?aa(b)||b.replace(pa(a,b)):aa(b)||b.replace(oa(a,b))))}},xa=function(a){a.on("preInit",function(){var c=a.schema.getSpecialElements();t.each(["video",
"audio","iframe","object"],function(a){c[a]=new RegExp("</"+a+"[^>]*>","gi")});var b=a.schema.getBoolAttrs();t.each(["webkitallowfullscreen","mozallowfullscreen","allowfullscreen"],function(a){b[a]={}});a.parser.addNodeFilter("iframe,video,audio,object,embed,script",wa(a));a.serializer.addAttributeFilter("data-mce-object",function(b,c){for(var d,e,f,g,h,l,k,m,n=b.length;n--;)if((d=b[n]).parent){k=d.attr(c);e=new w(k,1);"audio"!==k&&"script"!==k&&((m=d.attr("class"))&&-1!==m.indexOf("mce-preview-object")?
e.attr({width:d.firstChild.attr("width"),height:d.firstChild.attr("height")}):e.attr({width:d.attr("width"),height:d.attr("height")}));e.attr({style:d.attr("style")});for(f=(g=d.attributes).length;f--;){var p=g[f].name;0===p.indexOf("data-mce-p-")&&e.attr(p.substr(11),g[f].value)}"script"===k&&e.attr("type","text/javascript");(h=d.attr("data-mce-html"))&&((l=new w("#text",3)).raw=!0,l.value=ia(a,unescape(h)),e.append(l));d.replace(e)}})});a.on("SetContent",function(){a.$("span.mce-preview-object").each(function(c,
b){c=a.$(b);0===c.find("span.mce-shim").length&&c.append('<span class="mce-shim"></span>')})})},ya=function(a){a.on("ResolveName",function(a){var b;1===a.target.nodeType&&(b=a.target.getAttribute("data-mce-object"))&&(a.name=b)})},za=function(a){a.on("click keyup touchend",function(){var c=a.selection.getNode();c&&a.dom.hasClass(c,"mce-preview-object")&&a.dom.getAttrib(c,"data-mce-selected")&&c.setAttribute("data-mce-selected","2")});a.on("ObjectSelected",function(a){var b=a.target.getAttribute("data-mce-object");
"audio"!==b&&"script"!==b||a.preventDefault()});a.on("ObjectResized",function(a){var b,c=a.target;c.getAttribute("data-mce-object")&&(b=c.getAttribute("data-mce-html"))&&(b=unescape(b),c.setAttribute("data-mce-html",escape(L(b,{width:String(a.width),height:String(a.height)}))))})},Aa=function(a){a.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){a.execCommand("mceMedia")},onSetup:function(a,b){return function(c){return a.selection.selectorChangedWithUnbind(b.join(","),
c.setActive).unbind}}(a,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])});a.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){a.execCommand("mceMedia")}})};!function(){qa.add("media",function(a){return va(a),Aa(a),ya(a),xa(a),za(a),ua(a)})}()}();
